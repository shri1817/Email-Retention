{"version":3,"sources":["useRatingDisplay.js"],"sourcesContent":["import * as React from 'react';\nimport { getIntrinsicElementProps, slot, useId } from '@fluentui/react-utilities';\nimport { StarFilled } from '@fluentui/react-icons';\nimport { RatingItem } from '../RatingItem/RatingItem';\n/**\n * Create the state required to render RatingDisplay.\n *\n * The returned state can be modified with hooks such as useRatingDisplayStyles_unstable,\n * before being passed to renderRatingDisplay_unstable.\n *\n * @param props - props from this instance of RatingDisplay\n * @param ref - reference to root HTMLDivElement of RatingDisplay\n */ export const useRatingDisplay_unstable = (props, ref)=>{\n    const { color = 'neutral', count, compact = false, icon = StarFilled, max = 5, size = 'medium', value } = props;\n    const valueTextId = useId('rating-value-');\n    const countTextId = useId('rating-count-');\n    // Generate the child RatingItems and memoize them to prevent unnecessary re-rendering\n    const rootChildren = React.useMemo(()=>{\n        return compact ? /*#__PURE__*/ React.createElement(RatingItem, {\n            value: 1,\n            key: 1,\n            \"aria-hidden\": true\n        }) : Array.from(Array(max), (_, i)=>/*#__PURE__*/ React.createElement(RatingItem, {\n                value: i + 1,\n                key: i + 1,\n                \"aria-hidden\": true\n            }));\n    }, [\n        compact,\n        max\n    ]);\n    const state = {\n        color,\n        compact,\n        icon,\n        max,\n        size,\n        value,\n        components: {\n            root: 'div',\n            valueText: 'span',\n            countText: 'span'\n        },\n        root: slot.always(getIntrinsicElementProps('div', {\n            ref,\n            children: rootChildren,\n            role: 'img',\n            ...props\n        }), {\n            elementType: 'div'\n        }),\n        valueText: slot.optional(props.valueText, {\n            renderByDefault: value !== undefined,\n            defaultProps: {\n                children: value,\n                id: valueTextId,\n                'aria-hidden': true\n            },\n            elementType: 'span'\n        }),\n        countText: slot.optional(props.countText, {\n            renderByDefault: count !== undefined,\n            defaultProps: {\n                children: count === null || count === void 0 ? void 0 : count.toLocaleString(),\n                id: countTextId,\n                'aria-hidden': true\n            },\n            elementType: 'span'\n        })\n    };\n    if (!state.root['aria-label'] && !state.root['aria-labelledby']) {\n        var _state_valueText, _state_countText;\n        state.root['aria-labelledby'] = [\n            (_state_valueText = state.valueText) === null || _state_valueText === void 0 ? void 0 : _state_valueText.id,\n            (_state_countText = state.countText) === null || _state_countText === void 0 ? void 0 : _state_countText.id\n        ].filter(Boolean).join(' ');\n    }\n    return state;\n};\n"],"names":["useRatingDisplay_unstable","props","ref","color","count","compact","icon","StarFilled","max","size","value","valueTextId","useId","countTextId","rootChildren","React","useMemo","createElement","RatingItem","key","Array","from","_","i","state","components","root","valueText","countText","slot","always","getIntrinsicElementProps","children","role","elementType","optional","renderByDefault","undefined","defaultProps","id","toLocaleString","_state_valueText","_state_countText","filter","Boolean","join"],"mappings":";;;;+BAYiBA;;;eAAAA;;;;iEAZM;gCAC+B;4BAC3B;4BACA;AAShB,MAAMA,4BAA4B,CAACC,OAAOC;IACjD,MAAM,EAAEC,QAAQ,SAAS,EAAEC,KAAK,EAAEC,UAAU,KAAK,EAAEC,OAAOC,sBAAU,EAAEC,MAAM,CAAC,EAAEC,OAAO,QAAQ,EAAEC,KAAK,EAAE,GAAGT;IAC1G,MAAMU,cAAcC,IAAAA,qBAAK,EAAC;IAC1B,MAAMC,cAAcD,IAAAA,qBAAK,EAAC;IAC1B,sFAAsF;IACtF,MAAME,eAAeC,OAAMC,OAAO,CAAC;QAC/B,OAAOX,UAAU,WAAW,GAAGU,OAAME,aAAa,CAACC,sBAAU,EAAE;YAC3DR,OAAO;YACPS,KAAK;YACL,eAAe;QACnB,KAAKC,MAAMC,IAAI,CAACD,MAAMZ,MAAM,CAACc,GAAGC,IAAI,WAAW,GAAGR,OAAME,aAAa,CAACC,sBAAU,EAAE;gBAC1ER,OAAOa,IAAI;gBACXJ,KAAKI,IAAI;gBACT,eAAe;YACnB;IACR,GAAG;QACClB;QACAG;KACH;IACD,MAAMgB,QAAQ;QACVrB;QACAE;QACAC;QACAE;QACAC;QACAC;QACAe,YAAY;YACRC,MAAM;YACNC,WAAW;YACXC,WAAW;QACf;QACAF,MAAMG,oBAAI,CAACC,MAAM,CAACC,IAAAA,wCAAwB,EAAC,OAAO;YAC9C7B;YACA8B,UAAUlB;YACVmB,MAAM;YACN,GAAGhC,KAAK;QACZ,IAAI;YACAiC,aAAa;QACjB;QACAP,WAAWE,oBAAI,CAACM,QAAQ,CAAClC,MAAM0B,SAAS,EAAE;YACtCS,iBAAiB1B,UAAU2B;YAC3BC,cAAc;gBACVN,UAAUtB;gBACV6B,IAAI5B;gBACJ,eAAe;YACnB;YACAuB,aAAa;QACjB;QACAN,WAAWC,oBAAI,CAACM,QAAQ,CAAClC,MAAM2B,SAAS,EAAE;YACtCQ,iBAAiBhC,UAAUiC;YAC3BC,cAAc;gBACVN,UAAU5B,UAAU,QAAQA,UAAU,KAAK,IAAI,KAAK,IAAIA,MAAMoC,cAAc;gBAC5ED,IAAI1B;gBACJ,eAAe;YACnB;YACAqB,aAAa;QACjB;IACJ;IACA,IAAI,CAACV,MAAME,IAAI,CAAC,aAAa,IAAI,CAACF,MAAME,IAAI,CAAC,kBAAkB,EAAE;QAC7D,IAAIe,kBAAkBC;QACtBlB,MAAME,IAAI,CAAC,kBAAkB,GAAG;YAC3Be,CAAAA,mBAAmBjB,MAAMG,SAAS,AAAD,MAAO,QAAQc,qBAAqB,KAAK,IAAI,KAAK,IAAIA,iBAAiBF,EAAE;YAC1GG,CAAAA,mBAAmBlB,MAAMI,SAAS,AAAD,MAAO,QAAQc,qBAAqB,KAAK,IAAI,KAAK,IAAIA,iBAAiBH,EAAE;SAC9G,CAACI,MAAM,CAACC,SAASC,IAAI,CAAC;IAC3B;IACA,OAAOrB;AACX"}