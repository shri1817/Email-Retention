{"version":3,"sources":["useRatingItem.js"],"sourcesContent":["import * as React from 'react';\nimport { getIntrinsicElementProps, slot, useMergedRefs } from '@fluentui/react-utilities';\nimport { useFocusWithin } from '@fluentui/react-tabster';\nimport { useRatingItemContextValue_unstable } from '../../contexts/RatingItemContext';\nconst defaultItemLabel = (num)=>num + '';\n/**\n * Create the state required to render RatingItem.\n *\n * The returned state can be modified with hooks such as useRatingItemStyles_unstable,\n * before being passed to renderRatingItem_unstable.\n *\n * @param props - props from this instance of RatingItem\n * @param ref - reference to root HTMLElement of RatingItem\n */ export const useRatingItem_unstable = (props, ref)=>{\n    const context = useRatingItemContextValue_unstable();\n    const { value = 0 } = props;\n    const { itemLabel = defaultItemLabel, iconFilled: IconFilled, iconOutline: IconOutline } = context;\n    const ratingValue = Math.round((context.value || 0) * 2) / 2; // round to the nearest 0.5\n    var _context_hoveredValue;\n    const displayedRatingValue = (_context_hoveredValue = context.hoveredValue) !== null && _context_hoveredValue !== void 0 ? _context_hoveredValue : ratingValue;\n    const appearance = context.interactive ? 'outline' : 'filled';\n    let iconFillWidth;\n    if (context.compact || displayedRatingValue >= value) {\n        iconFillWidth = 1;\n    } else if (displayedRatingValue >= value - 0.5) {\n        iconFillWidth = 0.5;\n    } else {\n        iconFillWidth = 0;\n    }\n    const root = slot.always(getIntrinsicElementProps('span', {\n        ref: useMergedRefs(useFocusWithin(), ref),\n        ...props\n    }), {\n        elementType: 'span'\n    });\n    let unselectedIcon;\n    if (iconFillWidth < 1) {\n        unselectedIcon = slot.always(props.unselectedIcon, {\n            defaultProps: {\n                children: appearance === 'filled' ? /*#__PURE__*/ React.createElement(IconFilled, null) : /*#__PURE__*/ React.createElement(IconOutline, null),\n                'aria-hidden': true\n            },\n            elementType: 'div'\n        });\n    }\n    let selectedIcon;\n    if (iconFillWidth > 0) {\n        selectedIcon = slot.always(props.selectedIcon, {\n            defaultProps: {\n                children: /*#__PURE__*/ React.createElement(IconFilled, null),\n                'aria-hidden': true\n            },\n            elementType: 'div'\n        });\n    }\n    let halfValueInput;\n    if (context.interactive && context.step === 0.5) {\n        halfValueInput = slot.always(props.halfValueInput, {\n            defaultProps: {\n                type: 'radio',\n                name: context.name,\n                value: value - 0.5,\n                checked: ratingValue === value - 0.5,\n                'aria-label': itemLabel(value - 0.5),\n                onChange: ()=>{\n                // This empty onChange handler silences an incorrect React warning about not using onChange for a controlled input.\n                // The parent Rating component has the real onChange handler to listen to change events from this input.\n                }\n            },\n            elementType: 'input'\n        });\n    }\n    let fullValueInput;\n    if (context.interactive) {\n        fullValueInput = slot.always(props.fullValueInput, {\n            defaultProps: {\n                type: 'radio',\n                name: context.name,\n                value,\n                checked: ratingValue === value,\n                'aria-label': itemLabel(value),\n                onChange: ()=>{\n                // This empty onChange handler silences an incorrect React warning about not using onChange for a controlled input.\n                // The parent Rating component has the real onChange handler to listen to change events from this input.\n                }\n            },\n            elementType: 'input'\n        });\n    }\n    const state = {\n        appearance,\n        color: context.color,\n        step: context.step,\n        size: context.size,\n        iconFillWidth,\n        value,\n        components: {\n            root: 'span',\n            selectedIcon: 'div',\n            unselectedIcon: 'div',\n            halfValueInput: 'input',\n            fullValueInput: 'input'\n        },\n        root,\n        selectedIcon,\n        unselectedIcon,\n        halfValueInput,\n        fullValueInput\n    };\n    return state;\n};\n"],"names":["useRatingItem_unstable","defaultItemLabel","num","props","ref","context","useRatingItemContextValue_unstable","value","itemLabel","iconFilled","IconFilled","iconOutline","IconOutline","ratingValue","Math","round","_context_hoveredValue","displayedRatingValue","hoveredValue","appearance","interactive","iconFillWidth","compact","root","slot","always","getIntrinsicElementProps","useMergedRefs","useFocusWithin","elementType","unselectedIcon","defaultProps","children","React","createElement","selectedIcon","halfValueInput","step","type","name","checked","onChange","fullValueInput","state","color","size","components"],"mappings":"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"}